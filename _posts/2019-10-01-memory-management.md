---
title: 存储管理
key: 10009
tags: 操作系统
layout: article
category: blog
comment: true
date: 2019-10-01 23:48:00 +08:00
modify_date: 2019-10-01 23:48:00 +08:00
---

## 连续内存分配

### 计算机体系结构和内存层次

计算机系统包括CPU、内存、IO设备和总线，如下图：
![系统结构](/assets/images/blog/cs_structure.png)

- 地址总线一般是32位(4个字节)，换言之CPU一次读写是4个字节起步
- 内存是以字节为单位进行访问的，每一个字节有自己的物理地址
- 外存有扇区编号，一个扇区是512字节
- MMU的作用是把逻辑地址空间转换为物理地址空间

由于速度、容量和价格三者的矛盾，所以出现了分层存储体系: 高速缓存、内存、外存。CPU的寻址过程大致就是先访问L1、L2高速cache，如未命中则通过地址总线去访问内存，如果内存发生缺页异常再去访问外存。

### 地址空间&地址生成

**地址空间**是一个进程可以寻址内存的一套地址集合，每个进程都有一个自己的地址空间。