---
title: 一些基础知识的回顾
key: 10013
tags: 面试
layout: article
category: blog
comment: true
date: 2019-11-19 23:48:00 +08:00
modify_date: 2019-11-19 23:48:00 +08:00
---

## 进程

### 进程管理单元(process control block)

进程的一部分，进程存在的标志，记录管理进程的基本情况和运行情况：

- 进程描述信息：pid & uid
- 进程控制和管理信息：进程当前状态及优先级等
- 资源分配情况：代码段、数据段以及堆栈信息
- 寄存器：上下文切换的时候保存寄存器的值

### 进程的本质

进程的本质是一个执行中的程序实体，是对一个正在运行的程序的一种抽象。

- 一个独立的逻辑控制流，提供一个假象，我们的程序在独占CPU
- 一个私有的地址空间，提供一个假象，我们的程序在独占存储器系统

### 如何创建一个进程

```c
pid_t Fork(void)
{
    pid_t pid;

    if ((pid = fork()) < 0) {
        fprintf(stderr fork error, ": %s\n", strerror(errno));
        exit(0);
    }
    return pid;
}
```

### fork函数被父进程调用一次却返回两次

一次是返回给子进程0，一次是返回给父进程子进程的pid，可以区分程序逻辑是在子进程还是父进程执行的

### 进程树

描述进程之间的父子关系，类似于图论中的有向树

```
brew install pstree
```

### 进程通信方式

- 共享内存
- 消息传递
- 管道